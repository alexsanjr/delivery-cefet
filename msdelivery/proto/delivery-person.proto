syntax = "proto3";

package deliveryperson;

service DeliveryPersonService {
  rpc GetDeliveryPerson (GetDeliveryPersonRequest) returns (GetDeliveryPersonResponse);
  rpc FindAvailableDeliveryPersons (FindAvailableRequest) returns (DeliveryPersonsList);
  rpc UpdateDeliveryPersonStatus (UpdateStatusRequest) returns (UpdateResponse);
  rpc UpdateDeliveryPersonLocation (UpdateLocationRequest) returns (UpdateResponse);
}

message GetDeliveryPersonRequest {
  int32 deliveryPersonId = 1;
}

message GetDeliveryPersonResponse {
  bool success = 1;
  DeliveryPersonInfo deliveryPerson = 2;
}

message FindAvailableRequest {
  double latitude = 1;
  double longitude = 2;
  double radiusKm = 3;
  string vehicleType = 4;
}

message DeliveryPersonsList {
  repeated DeliveryPersonInfo deliveryPersons = 1;
}

message DeliveryPersonInfo {
  int32 id = 1;
  string name = 2;
  string email = 3;
  string phone = 4;
  string vehicleType = 5;
  string licensePlate = 6;
  string status = 7;
  double rating = 8;
  int32 totalDeliveries = 9;
  double currentLatitude = 10;
  double currentLongitude = 11;
  string lastLocationUpdate = 12;
  bool isActive = 13;
}

message UpdateStatusRequest {
  int32 deliveryPersonId = 1;
  string status = 2;
}

message UpdateLocationRequest {
  int32 deliveryPersonId = 1;
  double latitude = 2;
  double longitude = 3;
}

message UpdateResponse {
  bool success = 1;
  string message = 2;
}
