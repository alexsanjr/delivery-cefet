syntax = "proto3";syntax = "proto3";syntax = "proto3";



package deliveryperson;



service DeliveryPersonService {package deliveryperson;package deliveryperson;

  rpc GetDeliveryPerson (GetDeliveryPersonRequest) returns (GetDeliveryPersonResponse);

  rpc FindAvailableDeliveryPersons (FindAvailableRequest) returns (DeliveryPersonsList);

  rpc UpdateDeliveryPersonStatus (UpdateStatusRequest) returns (UpdateResponse);

  rpc UpdateDeliveryPersonLocation (UpdateLocationRequest) returns (UpdateResponse);service DeliveryPersonService {service DeliveryPersonService {

}

  rpc GetDeliveryPerson (GetDeliveryPersonRequest) returns (GetDeliveryPersonResponse);  rpc GetDeliveryPerson (GetDeliveryPersonRequest) returns (GetDeliveryPersonResponse);

message GetDeliveryPersonRequest {

  string deliveryPersonId = 1;  rpc FindAvailableDeliveryPersons (FindAvailableRequest) returns (DeliveryPersonsList);  rpc FindAvailableDeliveryPersons (FindAvailableRequest) returns (DeliveryPersonsList);

}

  rpc UpdateDeliveryPersonStatus (UpdateStatusRequest) returns (UpdateResponse);  rpc UpdateDeliveryPersonStatus (UpdateStatusRequest) returns (UpdateResponse);

message GetDeliveryPersonResponse {

  bool success = 1;  rpc UpdateDeliveryPersonLocation (UpdateLocationRequest) returns (UpdateResponse);  rpc UpdateDeliveryPersonLocation (UpdateLocationRequest) returns (UpdateResponse);

  DeliveryPersonInfo deliveryPerson = 2;

}}}



message FindAvailableRequest {

  double latitude = 1;

  double longitude = 2;message GetDeliveryPersonRequest {message GetDeliveryPersonRequest {

  double radiusKm = 3;

  string vehicleType = 4;  string deliveryPersonId = 1;  string deliveryPersonId = 1;

}

}}

message DeliveryPersonsList {

  repeated DeliveryPersonInfo deliveryPersons = 1;

}

message GetDeliveryPersonResponse {message GetDeliveryPersonResponse {

message DeliveryPersonInfo {

  string id = 1;  bool success = 1;  bool success = 1;

  string name = 2;

  string email = 3;  DeliveryPersonInfo deliveryPerson = 2;  DeliveryPersonInfo deliveryPerson = 2;

  string phone = 4;

  string vehicleType = 5;}}

  string licensePlate = 6;

  string status = 7;

  double rating = 8;

  int32 totalDeliveries = 9;message FindAvailableRequest {message FindAvailableRequest {

  double currentLatitude = 10;

  double currentLongitude = 11;  double latitude = 1;  double latitude = 1;

  string lastLocationUpdate = 12;

  bool isActive = 13;  double longitude = 2;  double longitude = 2;

}

  double radiusKm = 3;  double radiusKm = 3;

message UpdateStatusRequest {

  string deliveryPersonId = 1;  string vehicleType = 4;  string vehicleType = 4;

  string status = 2;

}}}



message UpdateLocationRequest {

  string deliveryPersonId = 1;

  double latitude = 2;message DeliveryPersonsList {message DeliveryPersonsList {

  double longitude = 3;

}  repeated DeliveryPersonInfo deliveryPersons = 1;  repeated DeliveryPersonInfo deliveryPersons = 1;



message UpdateResponse {}}

  bool success = 1;

  string message = 2;

}

message DeliveryPersonInfo {message DeliveryPersonInfo {

  string id = 1;  string id = 1;

  string name = 2;  string name = 2;

  string email = 3;  string email = 3;

  string phone = 4;  string phone = 4;

  string vehicleType = 5;  string vehicleType = 5;

  string licensePlate = 6;  string licensePlate = 6;

  string status = 7;  string status = 7;

  double rating = 8;  double rating = 8;

  int32 totalDeliveries = 9;  int32 totalDeliveries = 9;

  double currentLatitude = 10;  double currentLatitude = 10;

  double currentLongitude = 11;  double currentLongitude = 11;

  string lastLocationUpdate = 12;  string lastLocationUpdate = 12;

  bool isActive = 13;  bool isActive = 13;

}}



message UpdateStatusRequest {message UpdateStatusRequest {

  string deliveryPersonId = 1;  string deliveryPersonId = 1;

  string status = 2;  string status = 2;

}}



message UpdateLocationRequest {message UpdateLocationRequest {

  string deliveryPersonId = 1;  string deliveryPersonId = 1;

  double latitude = 2;  double latitude = 2;

  double longitude = 3;  double longitude = 3;

}}



message UpdateResponse {message UpdateResponse {

  bool success = 1;  bool success = 1;

  string message = 2;  string message = 2;

}}

