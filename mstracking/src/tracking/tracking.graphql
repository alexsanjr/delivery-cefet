# src/tracking/tracking.graphql
type Position {
  latitude: Float!
  longitude: Float!
  timestamp: String!
}

type Tracking {
  delivery_id: String!
  positions: [Position!]!
  status: String!
  estimated_arrival: String
  distance_remaining: Float
}

type Query {
  getTracking(deliveryId: String!): Tracking
  getActiveTrackings: [Tracking!]!
}

type Mutation {
  startTracking(input: StartTrackingInput!): Tracking!
  updatePosition(input: UpdatePositionInput!): Boolean!
}

type Subscription {
  positionUpdated(deliveryId: String!): Position!
}

input StartTrackingInput {
  delivery_id: String!
  order_id: String!
  destination_lat: Float!
  destination_lng: Float!
}

input UpdatePositionInput {
  delivery_id: String!
  latitude: Float!
  longitude: Float!
  delivery_person_id: String!
}